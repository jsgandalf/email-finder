var request = require('request')
var cheerio = require('cheerio')
var querystring = require('querystring');
var util = require('util');
var Bluebird = require('bluebird');

var ProfileClass = require("./data-containers/profile");
var Experience = require("./data-containers/experience");
var Honors = require("./data-containers/honors");
var Project = require("./data-containers/projects");
var Education = require("./data-containers/education");


var testString = "<!DOCTYPE html><!--[if lt IE 7]> <html lang=\"en\" class=\"ie ie6 lte9 lte8 lte7 os-mac\"> <![endif]--><!--[if IE 7]> <html lang=\"en\" class=\"ie ie7 lte9 lte8 lte7 os-mac\"> <![endif]--><!--[if IE 8]> <html lang=\"en\" class=\"ie ie8 lte9 lte8 os-mac\"> <![endif]--><!--[if IE 9]> <html lang=\"en\" class=\"ie ie9 lte9 os-mac\"> <![endif]--><!--[if gt IE 9]> <html lang=\"en\" class=\"os-mac\"> <![endif]--><!--[if !IE]><!--><html lang=\"en\" class=\"os-mac\"><!--<![endif]--><head>\n<meta charset=\"UTF-8\">\n<title>Marketer Ash | LinkedIn</title>\n<meta name=\"referrer\" content=\"origin\">\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n<meta name=\"pageImpressionID\" content=\"53f6dbed-8a04-44f0-93f8-f256abc4985f\">\n<meta name=\"appName\" content=\"chrome\">\n<meta name=\"pageKey\" content=\"public_profile_v3_desktop\">\n<meta name=\"treeID\" content=\"r7fcT0zRaRSArkXzJisAAA==\">\n<meta name=\"globalTrackingUrl\" content=\"//www.linkedin.com/mob/tracking\">\n<meta name=\"globalTrackingAppName\" content=\"chrome\">\n<meta name=\"globalTrackingAppId\" content=\"webTracking\">\n<!--[if lte IE 8]>\n  <link rel=\"shortcut icon\" href=\"https://static.licdn.com/scds/common/u/images/logos/favicons/v1/16x16/favicon.ico\">\n<![endif]-->\n<!--[if IE 9]>\n  <link rel=\"shortcut icon\" href=\"https://static.licdn.com/scds/common/u/images/logos/favicons/v1/favicon.ico\">\n<![endif]-->\n<link rel=\"icon\" href=\"https://static.licdn.com/scds/common/u/images/logos/favicons/v1/favicon.ico\">\n<link rel=\"apple-touch-icon-precomposed\" href=\"https://static.licdn.com/scds/common/u/img/icon/apple-touch-icon.png\">\n<meta name=\"msapplication-TileImage\" content=\"https://static.licdn.com/scds/common/u/images/logos/linkedin/logo-in-win8-tile-144_v1.png\">\n<meta name=\"msapplication-TileColor\" content=\"#0077B5\">\n<meta name=\"application-name\" content=\"LinkedIn\">\n<meta content=\"https://static.licdn.com/scds/concat/common/js?v=build-2000_8_57483-prod\" name=\"RemoteNavJSContentBaseURL\">\n<script type=\"text/javascript\" src=\"https://static.licdn.com/scds/concat/common/js?h=7ndrn0f9fw0hum7uoqcjcnzne-95d8d303rtd0n9wj4dcjbnh2c-7vr4nuab43rzvy2pgq7yvvxjk-9qa4rfxekcw3lt2c06h7p0kmf\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://static.licdn.com/scds/concat/common/css?h=6cr4z4epp0a5mxufg332nezs4-a4kjc5uqttio53azw54aex6s3-as8kt5bqspxc01tl9cizqa37j\">\n<script></script>\n<!--[if IE 8]><script src=\"https://static.licdn.com/scds/common/u/lib/polyfill/1.0.2/ie8-polyfill.min.js\"></script><![endif]-->\n<!--[if IE 9]><script src=\"https://static.licdn.com/scds/common/u/lib/polyfill/1.0.2/ie9-polyfill.min.js\"></script><![endif]-->\n<meta name=\"lnkd-track-json-lib\" content=\"https://static.licdn.com/scds/concat/common/js?h=2jds9coeh4w78ed9wblscv68v-ebbt2vixcc5qz0otts5io08xv\">\n\n\n<meta id=\"jet-chromeVersion\" name=\"jet-chromeVersion\" content=\"0.0.2000-RC8.57483\">\n<meta id=\"jet-scHost\" name=\"jet-scHost\" content=\"static.licdn.com\">\n<meta id=\"jet-csrfToken\" name=\"jet-csrfToken\" content=\"ajax:0237510086381055998\">\n<script type=\"text/javascript\" src=\"https://static.licdn.com/scds/concat/common/js?h=e2lgukqldpqool72t8g7tysag-3nuvxgwg15rbghxm1gpzfbya2-1nm61x5u7981e88m10hpaekkm-mv3v66b8q0h1hvgvd3yfjv5f-14k913qahq3mh0ac0lh0twk9v-28vfzntn604yf2k0jo32aleiv-64jfglk4psru95ie0m5pte7p3\"></script>\n<link rel=\"canonical\" href=\"https://www.linkedin.com/in/marketerash\"><link rel=\"stylesheet\" href=\"https://static.licdn.com/sc/h/5qygphna4hy4sfubrwa2c9sxk\"><script type=\"text/javascript\" src=\"https://static.licdn.com/sc/h/4tcd0mh70bs89zecpaumh27p1\"></script><meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"><meta name=\"robots\" content=\"noarchive\"><meta name=\"description\" content=\"View Marketer Ash’s professional profile on LinkedIn. LinkedIn is the world's largest business network, helping professionals like Marketer Ash discover inside connections to recommended job candidates, industry experts, and business partners.\"><meta name=\"og:title\" content=\"Marketer Ash | LinkedIn\"><meta name=\"og:description\" content=\"View Marketer Ash’s professional profile on LinkedIn. LinkedIn is the world's largest business network, helping professionals like Marketer Ash discover inside connections to recommended job candidates, industry experts, and business partners.\">\n</head>\n<body class=\"js guest\" dir=\"ltr\" id=\"pagekey-public_profile_v3_desktop\">\n<div id=\"application-body\">\n<header id=\"layout-header\" class=\"layout-header-or-footer\" role=\"banner\">\n<div id=\"header-banner\">\n<div class=\"wrapper\">\n<a class=\"banner-logo-container guest\" href=\"http://www.linkedin.com/\">\n<h2 id=\"li-logo\" class=\"logo\">\nLinkedIn Home\n</h2>\n</a>\n<nav role=\"navigation\" class=\"nav guest-nav\" aria-label=\"Main site navigation\">\n<ul role=\"menubar\">\n<li role=\"menuitem\" class=\"nav-item\">\n<a class=\"nav-link\" href=\"http://www.linkedin.com/static?key=what_is_linkedin&amp;trk=hb_what\">\nWhat is LinkedIn?\n</a>\n</li>\n<li role=\"menuitem\" class=\"nav-item\">\n<a rel=\"nofollow\" class=\"nav-link\" href=\"/start/join?trk=hb_join\">\nJoin Today\n</a>\n</li>\n<li role=\"menuitem\" class=\"nav-item\">\n<a rel=\"nofollow\" class=\"nav-link\" href=\"https://www.linkedin.com/uas/login?goback=&amp;trk=hb_signin\">\nSign In\n</a>\n</li>\n</ul>\n</nav>\n</div>\n</div>\n<div class=\"a11y-content\">\n<a id=\"a11y-content-link\" tabindex=\"0\" name=\"a11y-content\">Main content starts below.</a>\n</div>\n<script data-page-js-type=\"lix\">(function(n,r,a){r=window[n]=window[n]||{};r['jsecure_injectAlert']='enabled';r['jsecure_Dialog']='control';}('__li__lix_registry__'));</script>\n<div id=\"global-alert-queue\" class=\"layout-wrapper\"></div></header>\n<main id=\"layout-main\" role=\"main\">\n<script src=\"https://static.licdn.com/sc/h/eekxmw2mg4t0hh3rax0naa6bb\"></script><code id=\"currentPageUrl\" style=\"display: none;\"><!--\"https://www.linkedin.com/in/marketerash\"--></code><code id=\"startRegApiCreateAccountCorsUrl\" style=\"display: none;\"><!--\"https://www.linkedin.com/start/reg/api/cors/createAccount\"--></code><code id=\"isCookiedMember\" style=\"display: none;\"><!--false--></code><div id=\"wrapper\"><div id=\"profile\"><section id=\"topcard\" class=\"profile-section\"><div class=\"profile-card vcard no-picture\"><div class=\"profile-overview\"><div class=\"profile-overview-content\"><h1 id=\"name\" class=\"fn\">Marketer Ash</h1><p class=\"headline title\" data-section=\"headline\">Divisional Human Resources Manager at Safer Foundation</p><dl id=\"demographics\"><dt>Location</dt><dd class=\"descriptor adr\"><span class=\"locality\">Greater Chicago Area</span></dd><dt>Industry</dt><dd class=\"descriptor\">Nonprofit Organization Management</dd></dl><table class=\"extra-info\"><tbody><tr data-section=\"currentPositionsDetails\"><th>Current</th><td><ol><li><span class=\"org\"><a href=\"https://www.linkedin.com/company/safer-foundation?trk=ppro_cprof\">Safer Foundation</a></span></li></ol></td></tr><tr data-section=\"educationsDetails\"><th>Education</th><td><ol><li><a href=\"https://www.linkedin.com/edu/roosevelt-university-18297?trk=ppro_sprof\">Roosevelt University</a></li></ol></td></tr></tbody></table><div class=\"member-connections\"><strong>1</strong> connection</div></div></div></div><div class=\"reg-upsell  advocate-cta-enabled lazy-loaded\"><h2>View Marketer’s full profile. It's&nbsp;free!</h2><h3>Your colleagues, classmates, and 400 million other professionals are on LinkedIn.</h3><a href=\"https://www.linkedin.com/start/view-full-profile?_ed=0_m66hudzQ99S6nhTKwJ_5KTlAhOWjw0kkLTo0nMUEpfGj99PRkluv7Qd5rA02oJ3b&amp;trk=pprof-0-ts-view_full-0\" class=\"signup-button\">View Marketer’s Full Profile</a></div></section><section id=\"experience\" class=\"profile-section\"><h3 class=\"title\">Experience</h3><ul class=\"positions\"><li class=\"position\" data-section=\"currentPositionsDetails\"><header><h5 class=\"logo\"><a href=\"https://www.linkedin.com/company/safer-foundation?trk=ppro_cprof\"><img data-delayed-url=\"https://media.licdn.com/media/p/1/000/04b/0b5/20019f8.png\" class=\"lazy-load\" alt=\"Safer Foundation\"></a></h5><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/title/divisional-human-resources-manager?trk=pprofile_title\">Divisional Human Resources Manager</a></h4><h5 class=\"item-subtitle\"><a href=\"https://www.linkedin.com/company/safer-foundation?trk=ppro_cprof\">Safer Foundation</a></h5></header><div class=\"meta\"><span class=\"date-range\">Present</span></div></li></ul></section><section id=\"education\" data-section=\"educationsDetails\" class=\"profile-section\"><h3 class=\"title\">Education</h3><ul class=\"schools\"><li class=\"school\"><header><h5 class=\"logo\"><a href=\"https://www.linkedin.com/edu/roosevelt-university-18297?trk=ppro_sprof\"><img lazyload=\"true\" class=\"lazy-load\" alt=\"Roosevelt University\" data-delayed-url=\"https://media.licdn.com/mpr/mpr/shrink_100_100/p/7/005/03b/30d/39a622f.jpg\" width=\"60\" height=\"60\"></a></h5><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/edu/roosevelt-university-18297?trk=ppro_sprof\">Roosevelt University</a></h4><h5 class=\"item-subtitle\"><span class=\"translated translation\" data-field-name=\"Education.DegreeName\">, Business</span><span class=\"original translation\" data-field-name=\"Education.DegreeName\">, Business</span></h5></header></li></ul></section><section id=\"groups\" data-section=\"groups\" class=\"profile-section\"><div class=\"reg-upsell \"><h2>View Marketer’s full profile to...</h2><ul><li>See who you know in common</li><li>Get introduced</li><li>Contact <strong>Marketer</strong> directly</li></ul><a href=\"https://www.linkedin.com/start/view-full-profile?_ed=0_m66hudzQ99S6nhTKwJ_5KTlAhOWjw0kkLTo0nMUEpfGj99PRkluv7Qd5rA02oJ3b&amp;trk=pprof-0-ts-view_full-0\" class=\"signup-button\">View Marketer’s Full Profile</a><p class=\"view-more\">Not the Marketer you’re looking for? <a href=\"https://www.linkedin.com/pub/dir/Marketer/Ash\">View more</a></p></div></section></div><div id=\"aux\"><section class=\"insights\"><div class=\"name-search\"><h3 class=\"title\">Find a different Marketer Ash</h3><form action=\"https://www.linkedin.com/pub/dir/\" method=\"get\"><label for=\"firstName\">First Name</label><input type=\"text\" name=\"first\" id=\"firstName\" placeholder=\"First Name\"><label for=\"lastName\">Last Name</label><input type=\"text\" name=\"last\" id=\"lastName\" placeholder=\"Last Name\"><input type=\"hidden\" name=\"trk\" value=\"prof-samename-search-submit\"><button aria-label=\"Search\" type=\"submit\"><span></span></button><p class=\"tip\"><strong>Example: </strong> <a href=\"https://www.linkedin.com/pub/dir/Marketer/Ash\">Marketer Ash</a></p></form><ul><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/marketer-ash-a2a4812a?trk=prof-samename-picture\"><img width=\"100\" height=\"100\" class=\"lazy-loaded\" src=\"https://static.licdn.com/scds/common/u/images/themes/katy/ghosts/person/ghost_person_100x100_v1.png\"></a><div class=\"info\"><h4><a href=\"https://www.linkedin.com/in/marketer-ash-a2a4812a?trk=prof-samename-name\">Marketer Ash</a></h4><p class=\"headline\">Director of Performance Management at Safer Foundation</p><p class=\"location\">United States</p></div></li></ul><a class=\"same-name-search-more\" href=\"https://www.linkedin.com/pub/dir/Marketer/Ash?trk=prof-samename-searchmore\">More professionals named Marketer Ash</a></div><section class=\"badge profile-section\"><h3 class=\"title\">Public profile badge</h3><p class=\"description\">Include this LinkedIn profile on other websites</p><a class=\"cta\" href=\"https://www.linkedin.com/badges/profile/create?vanityname=marketerash&amp;trk=profile-badge-public-profile\">View profile badges</a></section><div class=\"browse-map\"><h3 class=\"title\">People Also Viewed</h3><ul><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/diane-williams-b012525?trk=pub-pbmap\"><img data-delayed-url=\"https://static.licdn.com/scds/common/u/images/themes/katy/ghosts/person/ghost_person_100x100_v1.png\" class=\"lazy-load\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/diane-williams-b012525?trk=pub-pbmap\">Diane Williams</a></h4><p class=\"headline\">President Emeritus at Safer Foundation</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/karen-tollenaar-demorest-a008859?trk=pub-pbmap\"><img lazyload=\"true\" class=\"lazy-load\" data-delayed-url=\"https://media.licdn.com/mpr/mpr/shrink_100_100/AAEAAQAAAAAAAAiBAAAAJDk3OGYxMDNhLTEzZDgtNDg2MC04MGQyLTVkM2Y1MzkwZWU0Nw.jpg\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/karen-tollenaar-demorest-a008859?trk=pub-pbmap\">Karen Tollenaar Demorest</a></h4><p class=\"headline\">Executive Director at Youth Job Center</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/ethel-muhammad-a813325?trk=pub-pbmap\"><img data-delayed-url=\"https://static.licdn.com/scds/common/u/images/themes/katy/ghosts/person/ghost_person_100x100_v1.png\" class=\"lazy-load\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/ethel-muhammad-a813325?trk=pub-pbmap\">Ethel Muhammad</a></h4><p class=\"headline\">Senior Operations Executive</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/denise-alexander-67062034?trk=pub-pbmap\"><img data-delayed-url=\"https://static.licdn.com/scds/common/u/images/themes/katy/ghosts/person/ghost_person_100x100_v1.png\" class=\"lazy-load\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/denise-alexander-67062034?trk=pub-pbmap\">Denise Alexander</a></h4><p class=\"headline\">College Advisor &amp; Program Manager</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/victor-dickson-b8bba038?trk=pub-pbmap\"><img lazyload=\"true\" class=\"lazy-load\" data-delayed-url=\"https://media.licdn.com/mpr/mpr/shrink_100_100/AAEAAQAAAAAAAAkzAAAAJDFlYjdlMzc1LTUxZDYtNDBmMi04YTliLTEwOWY0MjY2MGU2ZQ.jpg\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/victor-dickson-b8bba038?trk=pub-pbmap\">Victor Dickson</a></h4><p class=\"headline\">President &amp; CEO - Safer Foundation</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/linda-wrightsell-a874b263?trk=pub-pbmap\"><img data-delayed-url=\"https://static.licdn.com/scds/common/u/images/themes/katy/ghosts/person/ghost_person_100x100_v1.png\" class=\"lazy-load\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/linda-wrightsell-a874b263?trk=pub-pbmap\">Linda Wrightsell</a></h4><p class=\"headline\">Administrative Assistant at Community Services West</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/drhalstonjr?trk=pub-pbmap\"><img lazyload=\"true\" class=\"lazy-load\" data-delayed-url=\"https://media.licdn.com/mpr/mpr/shrink_100_100/p/2/000/05a/338/2940bf9.jpg\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/drhalstonjr?trk=pub-pbmap\">Harry Alston, Jr., Ph.D.</a></h4><p class=\"headline\">Strategic Development Officer | Practitioner-Scholar in Leadership &amp; Change | Facilitator for Diversity &amp; Inclusion</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/henrietta-mason-9323998?trk=pub-pbmap\"><img data-delayed-url=\"https://static.licdn.com/scds/common/u/images/themes/katy/ghosts/person/ghost_person_100x100_v1.png\" class=\"lazy-load\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/henrietta-mason-9323998?trk=pub-pbmap\">Henrietta Mason</a></h4><p class=\"headline\">Associate Vice President, Human Resources at Safer Foundation</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/claudialbanks?trk=pub-pbmap\"><img lazyload=\"true\" class=\"lazy-load\" data-delayed-url=\"https://media.licdn.com/mpr/mpr/shrink_100_100/AAEAAQAAAAAAAAY2AAAAJDgzM2E4ZGQ2LTI0NmEtNGIwYS05ZjcyLTk4MGI4MzAzODM0Nw.jpg\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/claudialbanks?trk=pub-pbmap\">Claudia Banks</a></h4><p class=\"headline\">Senior-Level Marketing and Communications Professional</p></div></li><li class=\"profile-card\"><a href=\"https://www.linkedin.com/in/christa-a-hamilton-09a11611b?trk=pub-pbmap\"><img lazyload=\"true\" class=\"lazy-load\" data-delayed-url=\"https://media.licdn.com/mpr/mpr/shrink_100_100/AAEAAQAAAAAAAAdGAAAAJGViMmM0OGJmLTVjMTAtNGRiNy05ZGZiLWI3MTYxZTQwMjc4NA.jpg\" width=\"100\" height=\"100\"></a><div class=\"info\"><h4 class=\"item-title\"><a href=\"https://www.linkedin.com/in/christa-a-hamilton-09a11611b?trk=pub-pbmap\">Christa A. Hamilton</a></h4><p class=\"headline\">Chief Executive Officer and Executive Director</p></div></li></ul></div></section><section id=\"ad\" class=\"profile-section\"><iframe width=\"300\" scrolling=\"no\" height=\"250\" frameborder=\"0\" allowtransparency=\"true\" border=\"0\" data-src=\"/csp/dtag?sz=300x250&amp;ti=2&amp;p=1&amp;z=full_profile&amp;_x=%3Bcompany%3D26793986%3Bpcntry%3Dus\" src=\"/csp/dtag?sz=300x250&amp;ti=2&amp;p=1&amp;z=full_profile&amp;_x=%3Bcompany%3D26793986%3Bpcntry%3Dus\"></iframe><script>window.addEventListener('load',function(){var iframes=document.getElementsByTagName(\"iframe\");for(var i=0;i<iframes.length;i++){var iframe=iframes[i],src=iframe.getAttribute('data-src');if(src){iframe.src=src;}}});</script></section></div><div id=\"directory\" class=\"us\"><h3 class=\"title\">LinkedIn member directory:</h3><ol type=\"a\" class=\"primary\"><li><a href=\"https://www.linkedin.com/directory/people-a/\">a</a></li><li><a href=\"https://www.linkedin.com/directory/people-b/\">b</a></li><li><a href=\"https://www.linkedin.com/directory/people-c/\">c</a></li><li><a href=\"https://www.linkedin.com/directory/people-d/\">d</a></li><li><a href=\"https://www.linkedin.com/directory/people-e/\">e</a></li><li><a href=\"https://www.linkedin.com/directory/people-f/\">f</a></li><li><a href=\"https://www.linkedin.com/directory/people-g/\">g</a></li><li><a href=\"https://www.linkedin.com/directory/people-h/\">h</a></li><li><a href=\"https://www.linkedin.com/directory/people-i/\">i</a></li><li><a href=\"https://www.linkedin.com/directory/people-j/\">j</a></li><li><a href=\"https://www.linkedin.com/directory/people-k/\">k</a></li><li><a href=\"https://www.linkedin.com/directory/people-l/\">l</a></li><li><a href=\"https://www.linkedin.com/directory/people-m/\">m</a></li><li><a href=\"https://www.linkedin.com/directory/people-n/\">n</a></li><li><a href=\"https://www.linkedin.com/directory/people-o/\">o</a></li><li><a href=\"https://www.linkedin.com/directory/people-p/\">p</a></li><li><a href=\"https://www.linkedin.com/directory/people-q/\">q</a></li><li><a href=\"https://www.linkedin.com/directory/people-r/\">r</a></li><li><a href=\"https://www.linkedin.com/directory/people-s/\">s</a></li><li><a href=\"https://www.linkedin.com/directory/people-t/\">t</a></li><li><a href=\"https://www.linkedin.com/directory/people-u/\">u</a></li><li><a href=\"https://www.linkedin.com/directory/people-v/\">v</a></li><li><a href=\"https://www.linkedin.com/directory/people-w/\">w</a></li><li><a href=\"https://www.linkedin.com/directory/people-x/\">x</a></li><li><a href=\"https://www.linkedin.com/directory/people-y/\">y</a></li><li><a href=\"https://www.linkedin.com/directory/people-z/\">z</a></li><li><a href=\"https://www.linkedin.com/directory/people-1/\">more</a></li><li class=\"country-search\">Browse members <a href=\"https://www.linkedin.com/directory/country_listing/\">by country</a></li></ol></div><script type=\"text/javascript\">(function(){var DOMAIN_NAME=window.location.hostname.replace(/.*\\.([^\\.]+\\.[^\\.]+)/,'$1'),DOMAIN_NAME_PROD='linkedin.com';function getRemoteFrameUrl(){return('https:'===document.location.protocol?'https://':'http://')+'platform.'+DOMAIN_NAME+'/js/thirdPartyJSDelegatorFrame.html';}function loadExternalTracking(){var thirdPartyJs=new Espany({remote:getRemoteFrameUrl(),ready:function(){if(DOMAIN_NAME!==DOMAIN_NAME_PROD){return;}thirdPartyJs.loadScript('analyticsjs').result(function(msg){thirdPartyJs.run('ga',['create','UA-62256447-1',{'cookieDomain':DOMAIN_NAME_PROD}]);thirdPartyJs.run('ga',['set','referrer',document.referrer]);thirdPartyJs.run('ga',['set','location',window.location.href]);thirdPartyJs.run('ga',['send','pageview',{page:'public_profile_v3_desktop'}]);});}});}window.addEventListener('load',loadExternalTracking);})();</script></div>\n</main>\n<script type=\"text/javascript\" src=\"https://static.licdn.com/scds/concat/common/js?h=a06jpss2hf43xwxobn0gl598m-44hhbxag3hinac547ym9vby09-a4lcy9x33w9gvnro4s0fw3e8z-9zz2lhu3eq1epk7sq1t8cdb5s-cka8kpkro4boynr3tivfkppls-9o2gces8tdiaq46j2fgjkg6d4-bctwwqj7p01tcj2smshz2bboe-aaykw1861wb5yl2yeseicumeh-bftaa82sjwcbrohoe28skni7b-2r8hqscu9unerft0cqwr58gz1-acapv3trxf5gmj7o87qomcp3f-cfabcg4u1cj0em4yissh5mfxu\"></script>\n<footer id=\"layout-footer\" class=\"layout-header-or-footer\" role=\"contentinfo\">\n<div class=\"wrapper\">\n<p class=\"copyright guest\"><span>LinkedIn Corporation</span> <em>© 2016</em></p>\n<ul class=\"nav-legal\" role=\"navigation\" aria-label=\"Footer Legal Menu\">\n<li role=\"menuitem\"><a href=\"http://www.linkedin.com/legal/user-agreement?trk=hb_ft_userag\">User Agreement</a></li>\n<li role=\"menuitem\"><a href=\"http://www.linkedin.com/legal/privacy-policy?trk=hb_ft_priv\">Privacy Policy</a></li>\n<li role=\"menuitem\"><a href=\"https://linkedin.com/help/linkedin/answer/34593?lang=en\">Community Guidelines</a></li>\n<li role=\"menuitem\"><a href=\"http://www.linkedin.com/legal/cookie-policy?trk=hb_ft_cookie\">Cookie Policy</a></li>\n<li role=\"menuitem\"><a href=\"http://www.linkedin.com/legal/copyright-policy?trk=hb_ft_copy\">Copyright Policy</a></li>\n<li role=\"menuitem\"><a href=\"/psettings/guest-email-unsubscribe?trk=hb_ft_gunsub\" rel=\"nofollow\">Unsubscribe</a></li>\n</ul>\n</div>\n</footer>\n<script data-page-js-type=\"config\">(function(n,r,a){r=window[n]=window[n]||{};a=r['WebTracking']=r['WebTracking']||{};a['URLs']={'saveWebActionTrackURL':'\\/lite\\/secure-web-action-track?csrfToken=ajax%3A0237510086381055998'};}('__li__config_registry__'));</script>\n<script data-page-js-type=\"lix\">(function(n,r,a){r=window[n]=window[n]||{};r['global_bsp_notice_type']='warning';r['global_bsp_notice_autoHide']='false';r['global_bsp_view_threshold']='c5';}('__li__lix_registry__'));</script>\n<script data-page-js-type=\"i18n\">(function(n,r,a){r=window[n]=window[n]||{};r['global_browser_unsupported_notice']='Looks like you\\'re using a browser that\\'s not supported. <a target=\"_blank\" href=\"https:\\/\\/linkedin.com\\/help\\/linkedin\\/answer\\/4135?lang=en\">Learn more about browsers you can use.<\\/a>';}('__li__i18n_registry__'));</script>\n<script data-page-js-type=\"config\">(function(n,r,a){r=window[n]=window[n]||{};a=r['global:browserSupportPolicy']=r['global:browserSupportPolicy']||{};a['supportedBrowserMinVersions']={ie:'v10',firefox:'v38',opera:'control',safari:'v6.1',chrome:'v42',mobileSafari:'v7',android:'v2.3',androidChrome:'v0'};}('__li__config_registry__'));</script>\n<script type=\"text/javascript\" src=\"https://static.licdn.com/scds/concat/common/js?h=3kp2aedn5pmamdr4dk4n8atur-3ti5bgrnb6idjtk0w4chaigxe-5hqr1i1uoezoj0z1s5gcxojf2-71o37tcjwl0ishto9izvyml3i-3bbdjshpw5ov0rwa8xe08tp97-cayct4cirf7n0f9z1xsg84g0q-dktkawxk7k8pixuh5g8z5ku32-213zbp2wzp99lviwl8g2cvq6i-1lknwtftishpdmobzm413yc7u-bcxa0v9ke411pjpmz4s239f9b-10wg3j2jlwnawjalr4lur4ho3-82rcsw42m1wbgsti4m3j0kvg6-f3la2n4kbk7vr56j54qax1oif-1eq1il9757v2zkuru6hu14q2e-8sox1gztdjnz2un89fi8fyw35-8hdbl769kuhp0h4bsexhsbks0-d8q8zy9bxe530nqv2fct70nwo-c6ct0moql4p4ngtzltmf8l3ly-8h514j3fiwnzuwkt66sbxsu8f-b3iv68pzbkl7rs4b897f6kj5d-di2z9sra5co9la7ogqyesywin\"></script>\n<script src=\"https://static.licdn.com/sc/h/86a7jh9nj689yvwunncsfqhkg\" async=\"\"></script>\n<script type=\"text/javascript\">if(!window.LI){window.LI={};}\nLI.RUM=LI.RUM||{};(function(RUM,win){var doc=win.document;RUM.flags=RUM.flags||{};RUM.flags['host-flag']=\"control\";RUM.flags['pop_beacons_frequency']=\"n10-ap0-la0-va0-tx0-sg0-db0-hk0-sp0-ln0-ch0-sy0-mu0-mi0\";RUM.flags['rs_timings_individual']=\"n1000\";RUM.flags['rs_timings_individual_detail']=\"enabled\";RUM.urls=RUM.urls||{};RUM.urls['rum-track']=\"\\/lite\\/rum-track?csrfToken=ajax%3A0237510086381055998\";RUM.urls['boomerang-bw-img']=\"https:\\/\\/static.licdn.com\\/scds\\/common\\/u\\/lib\\/boomerang\\/0.9.edge.4ab208445a\\/img\\/\";RUM.base_urls=RUM.base_urls||{};RUM.base_urls['permanent_content']=\"https:\\/\\/static.licdn.com\\/scds\\/common\\/u\\/\";RUM.base_urls['versioned_content']=\"https:\\/\\/static.licdn.com\\/scds\\/concat\\/common\\/\";RUM.base_urls['media_proxy']=\"https:\\/\\/media.licdn.com\\/media-proxy\\/\";RUM.serverStartTime=1.47093687931E12;RUM.enabled=true;function getRumScript(){var node=doc.body||doc.head||doc.getElementsByTagName('head')[0],script=doc.createElement('script');script.src=[\"https://static.licdn.com/scds/concat/common/js?h=ed29nkjpsa16bhrjq4na16owq-1mucgfycc664m7vmhpjgqse65-1l5rurej3h44qodo5rn0cdvyn-8om6v2ckrxsbnwf40t9ta8a7e-34tiets5jpj294jd59h8c4s0n-28w7d5j2k2jtil9ncckolke4m-9jzlwicvu376y9q4vjq77y5ks-1m0whdrwis44c1hoa9mrwhlt4-1uvutm1mpyov7rqhtcf8fksby-aac54ic1fmca5xz1yvc5t9nfe-1hn40w0bomeivihj9lopp4hp2-c0121povror81d0xao0yez4gy\"][0];node.appendChild(script);}\nif(win.addEventListener){win.addEventListener('load',getRumScript);}\nelse{win.attachEvent('onload',getRumScript);}}(LI.RUM,window));</script>\n<meta name=\"detectAdBlock\" content=\"//platform.linkedin.com/js/px.js\">\n<script src=\"https://static.licdn.com/scds/concat/common/js?h=69w33ou4umkyupw2uqgn7za7w\" async=\"\" defer=\"\"></script>\n<script class=\"comscore-tracking\">(function(_e,_r){var isNielsenDisabled=true;var providers={'COMSCORE':{'treatment':'control'}};if(!isNielsenDisabled){providers['NIELSEN']={'treatment':'control'};}\nvar fireComscore=function(){var comScore=window.COMSCORE;if(comScore){comScore.beacon({c1:2,c2:6402952,c3:'',c4:'',c5:'',c6:'',c15:''});}};var uc=window.encodeURIComponent,timeStamp=(new Date()).getTime();var fireExternalTracking=function(et){if(typeof et.trackPageChromeInit==='function'){et.trackPageChromeInit(providers);}else{et.setTreatment('enabled_1.0');et.trackWithComScoreForChromeInit();if(!isNielsenDisabled){var img=new Image(1,1);img.onerror=img.onload=function(){img.onerror=img.onload=null;};img.src=[\"//secure-gl.imrworldwide.com/cgi-bin/m?ci=au-linkedin&cc=1&si=\",uc(window.location.href),\"&rp=\",uc(document.referrer),\"&ts=compact&rnd=\",timeStamp].join('');}}};var track=function(){var et;if(_e){fireExternalTracking(_e);}else if(_r&&typeof _r.ensure==='function'){try{_r.ensure(['externalTracking'],function(require){try{et=require('externalTracking');fireExternalTracking(et);}catch(e){fireComscore();}});}catch(e){fireComscore();}}else if(_r&&_r._is_li){try{et=require('externalTracking');fireExternalTracking(et);}catch(e){fireComscore();}}else{fireComscore();}};window.addEventListener('load',track);}(window.externalTracking,window.require));</script>\n<noscript>\n&lt;img src=\"https://sb.scorecardresearch.com/b?c1=2&amp;amp;c2=6402952&amp;amp;c3=&amp;amp;c4=&amp;amp;c5=&amp;amp;c6=&amp;amp;c15=&amp;amp;cv=1.3&amp;amp;cj=1\" style=\"display:none\" width=\"0\" height=\"0\" alt=\"\"/&gt;\n</noscript>\n<script type=\"text/javascript\">(function(d){function go(){var a=d.createElement('iframe');a.style.display='none';a.setAttribute('sandbox','allow-scripts allow-same-origin');a.src='//radar.cedexis.com/1/11326/radar/radar.html';if(d.body){d.body.appendChild(a);}}\nif(window.addEventListener){window.addEventListener('load',go,false);}else if(window.addEvent){window.addEvent('onload',go);}}(document));</script>\n</div>\n\n\n<iframe id=\"e_1470936882023\" name=\"e_1470936882023\" src=\"https://platform.linkedin.com/js/thirdPartyJSDelegatorFrame.html?e_origin=https://www.linkedin.com&amp;e_channel=e_1470936882023\" style=\"visibility: hidden; width: 1px; height: 1px; position: absolute; left: -999px; top: 0px;\"></iframe><script src=\"https://static.licdn.com/scds/concat/common/js?h=ed29nkjpsa16bhrjq4na16owq-1mucgfycc664m7vmhpjgqse65-1l5rurej3h44qodo5rn0cdvyn-8om6v2ckrxsbnwf40t9ta8a7e-34tiets5jpj294jd59h8c4s0n-28w7d5j2k2jtil9ncckolke4m-9jzlwicvu376y9q4vjq77y5ks-1m0whdrwis44c1hoa9mrwhlt4-1uvutm1mpyov7rqhtcf8fksby-aac54ic1fmca5xz1yvc5t9nfe-1hn40w0bomeivihj9lopp4hp2-c0121povror81d0xao0yez4gy\"></script><iframe sandbox=\"allow-scripts allow-same-origin\" src=\"//radar.cedexis.com/1/11326/radar/radar.html\" style=\"display: none;\"></iframe><script src=\"//platform.linkedin.com/js/px.js?ch=1\"></script><script src=\"//platform.linkedin.com/js/px.js?ch=2\"></script></body></html>";

var scrape = function (body) {

  body = testString;


  var $ = cheerio.load(body);
  var profile = new ProfileClass();
  profile.name = $("#name h1 span span").text();
  console.log(profile.name)
  profile.headline = $("#headline p").text();
  profile.location = $("#location dl dd span").text();
  profile.current = $("#overview-summary-current td ol li a").text();
  $("#overview-summary-past td ol li").each(function() {
    var company = $(this).text();
    company = company.split(",")[0];
    profile.past.push(company);
  });

  profile.education = $("#overview-summary-education td ol li").text();
  $("#overview-summary-websites td ul li").each(function() {
    profile.websites.push($(this).find("a[href]").attr("href"));
  });
  $("#background-experience div div").each(function() {
    profile.experience.push(new Experience($(this).find("header h4").text(),
      $(this).find("header a").text(),
      $(this).find(".experience-date-locale").clone().find(".locality").remove().end().text(),
      $(this).find("span span.locality").text(),
      $(this).find("p").html()));
  });
  $("#background-honors div div div").each(function() {
    profile.honors.push(new Honors($(this).find("h4 span").text(),
      $(this).find("h5 span").text(),
      $(this).find("> span").text(),
      $(this).find("p").text()));
  });

  $("#background-projects div div").each(function() {
    profile.projects.push(new Project($(this).find("hgroup h4 a span:first").text(),
      $(this).find("> span.projects-date").text(),
      $(this).find("> p").text(),
      $(this).find("hgroup h4 a[href]").attr("href")));
  });

  $("#background-education div div div").each(function() {
    profile.educationlist.push(new Education($(this).find("header h4").text(),
      $(this).find("header h4 a[href]").attr("href"),
      $(this).find("header h5 span:first").text(),
      $(this).find("header h5 span:eq(2)").text(),
      $(this).find("header h5 span:last").text(),
      $(this).find("> span").text()));
  });

  return Bluebird.resolve(profile);

}

module.exports = scrape;
